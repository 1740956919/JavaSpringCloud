webpackJsonp([3],{557:function(e,t,s){s(629);var a=s(218)(s(576),s(611),"data-v-585ac322",null);e.exports=a.exports},563:function(e,t,s){e.exports={default:s(564),__esModule:!0}},564:function(e,t,s){var a=s(24),o=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},576:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(563),o=s.n(a);t.default={data:function(){var e=this,t=function(e,t,s){""===t.replace(/(^\s*)|(\s*$)/g,"")?s(new Error("请输入用户名称")):s()},s=function(e,t,s){""===t.replace(/(^\s*)|(\s*$)/g,"")?s(new Error("请输入用户账号")):s()},a=function(t,s,a){""===s?a(new Error("请输入密码")):(""!==e.editPwd.passWordCheck&&e.$refs.editPwd.validateField("passWordCheck"),a())},o=function(t,s,a){""===s?a(new Error("请再次输入密码")):s!==e.editPwd.passWord?a(new Error("两次输入密码不一致!")):a()};return{loading:"",data:[],defaultProps:{children:"children",label:"label"},dataSize:0,tableData:[],pageNum:1,pageSize:10,menuCode:"",menuButtonList:[],formData:{},tablePostData:[],dialogAdd:!1,dialogEdit:!1,dialogPwdEdit:!1,dialogRole:!1,innerVisibleAdd:!1,innerVisibleEdit:!1,dialogDeptSet:!1,dialogPostSet:!1,defautChoose:[],titleUserName:"",roleForm:{type:[],resource:""},roleFormData:[],getDataUrl:this.$store.state.url+"system/user/listUsers",getUserByUserCodeUrl:this.$store.state.url+"system/user/getUserByUserCode",addUrl:this.$store.state.url+"system/user/addUser",editUrl:this.$store.state.url+"system/user/updateUser",editPwdUrl:this.$store.state.url+"webauth/user/updatePwd",delUrl:this.$store.state.url+"system/user/delUser",roleFindUrl:this.$store.state.url+"system/user/roleAllAndCheck",roleSubmintUrl:this.$store.state.url+"system/user/addRoleAndUser",getMenuUrl:this.$store.state.url+"/webauth/dept/deptsList",getPostByDeptUrl:this.$store.state.url+"/webauth/user/getPostByDept",getHasPost:this.$store.state.url+"/webauth/user/userAssignPost",zpUserPost:this.$store.state.url+"/webauth/user/updateUserPost",zpUserdept:this.$store.state.url+"/webauth/user/changeUserDepartment",formInline:{userAcct:"",userName:""},addInfo:{userAcct:"",userName:"",userPwd:"",idCard:"",sex:"1",phone:"",email:"",adminFlag:"0",remark:""},deptName:"",chooseDept:{},selectId:{},selectPostId:{},editInfo:{},editInfoBefore:"",i:0,editPwd:{passWord:"",passWordCheck:""},rules:{userAcct:[{required:!0,validator:s,trigger:"blur"},{min:1,max:40,message:"长度在 1 到 40 个字符",trigger:"blur"}],userName:[{required:!0,validator:t,trigger:"blur"},{min:1,max:40,message:"长度在 1 到 40 个字符",trigger:"blur"}],idCard:[{pattern:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/,message:"证件号码格式有误！",trigger:"blur"}],tel:[{pattern:/^((0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/,message:"请输入正确的固定电话",trigger:"blur"}],phone:[{pattern:/^[1][3,4,5,7,8][0-9]{9}$/,message:"请输入正确的手机号码",trigger:"blur"}],email:[{pattern:/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/,message:"请输入正确电子邮箱",trigger:"blur"}],deptName:[],ip:[{pattern:/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,message:"请输入正确的IP",trigger:"blur"}]},rules2:{passWord:[{required:!0,validator:a,trigger:"blur"}],passWordCheck:[{required:!0,validator:o,trigger:"blur"}]}}},watch:{pageNum:function(){this.getData()},pageSize:function(){this.getData()}},mounted:function(){this.$nextTick(function(){this.getData(),this.getButton()})},activated:function(){this.getButton()},methods:{openFullScreen:function(){this.loading=this.$loading({lock:!0,text:"操作中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})},getButton:function(){var e=this;this.menuCode=this.$store.state.menuCode;var t=new URLSearchParams;t.append("USER_NAME",localStorage.getItem("ms_username")),t.append("MENU_CODE",this.menuCode),t.append("BUTTON_CODE",""),this.$axios.post(this.$store.state.getButtonUrl,t).then(function(t){0==t.data.code?e.menuButtonList=t.data.data:e.$message({showClose:!0,message:t.data.msg,type:"error"})})},chooseClick:function(e){"addUser"==e?this.addUser("addInfo"):"editPassword"==e?this.editPassword("editPwd"):"editNews"==e?this.editNews():"delUser"==e?this.delUser():"assignRole"==e?this.assignRole():"setPost"==e?this.setPost():"setDepartment"==e&&this.setDepartment()},searchForm:function(){var e=new URLSearchParams;e.append("userAcct",this.formInline.userAcct),e.append("userName",this.formInline.userName),this.formData=e,1!=this.pageNum?this.pageNum=1:this.getData()},resetForm:function(e){this.$refs[e].resetFields()},addUser:function(e){this.dialogAdd=!0,this.$refs[e]&&this.$refs[e].resetFields()},openTreeChooseAdd:function(){this.getDeptData(),this.innerVisibleAdd=!0},openTreeChooseEdit:function(){this.defautChoose=[],this.defautChoose=[this.editInfoBefore.deptCode],this.chooseDept.id=this.editInfoBefore.deptCode,this.chooseDept.label=this.editInfoBefore.label,this.getDeptData(),this.innerVisibleEdit=!0},handleNodeClick:function(e){this.chooseDept=e},addChooseSure:function(e){this.chooseDept.id?1==e?(this.deptName=this.chooseDept.label,this.innerVisibleAdd=!1):0<this.$refs.tree1.getCheckedKeys().length?(this.editInfo.deptName=this.chooseDept.label,this.innerVisibleEdit=!1):this.$message({showClose:!0,message:"请选择一个部门",type:"error"}):this.$message({showClose:!0,message:"请选择一个部门",type:"error"})},getDeptData:function(){var e=this;this.chooseDept={},this.$axios.post(this.getMenuUrl).then(function(t){0==t.data.code?e.data=t.data.data:e.$message({showClose:!0,message:t.data.msg,type:"error"})})},cancelTreeDialog:function(){this.innerVisibleAdd=!1,this.innerVisibleEdit=!1},addSure:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var s=new URLSearchParams;s.append("userAcct",t.addInfo.userAcct),s.append("userName",t.addInfo.userName),s.append("idCard",t.addInfo.idCard),s.append("sex",t.addInfo.sex),s.append("phone",t.addInfo.phone),s.append("email",t.addInfo.email),s.append("adminFlag",t.addInfo.adminFlag),s.append("userPwd",t.addInfo.userPwd),s.append("remark",t.addInfo.remark),t.openFullScreen(),t.$axios.post(t.addUrl,s).then(function(e){t.loading.close(),0==e.data.code?(t.getData(),t.$message({showClose:!0,message:"新增用户成功",type:"success"})):t.$message({showClose:!0,message:e.data.msg,type:"error"})}),t.dialogAdd=!1})},cancelDialog:function(){this.dialogAdd=!1,this.dialogEdit=!1,this.dialogPwdEdit=!1,this.dialogRole=!1,this.dialogDeptSet=!1,this.dialogPostSet=!1},editNews:function(e){this.editInfoBefore&&void 0!=this.editInfoBefore.uuid?(this.dialogEdit=!0,this.editInfo=JSON.parse(o()(this.editInfoBefore))):this.$message({showClose:!0,message:"请选择一条数据进行修改",type:"error"})},editSure:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var s=new URLSearchParams;s.append("userCode",t.editInfo.userCode),s.append("userAcct",t.editInfo.userAcct),s.append("userName",t.editInfo.userName),s.append("idCard",t.editInfo.idCard),s.append("sex",t.editInfo.sex),s.append("adminFlag",t.editInfo.adminFlag),s.append("phone",t.editInfo.phone),s.append("email",t.editInfo.email),s.append("deptCode",t.chooseDept.id),s.append("remark",t.editInfo.remark),t.openFullScreen(),t.$axios.post(t.editUrl,s).then(function(e){t.loading.close(),0==e.data.code?(t.getData(),t.$message({showClose:!0,message:"修改用户成功",type:"success"})):t.$message({showClose:!0,message:e.data.msg,type:"error"})}),t.dialogEdit=!1})},editPassword:function(e){this.editInfoBefore?(this.$refs[e]&&this.$refs[e].resetFields(),void 0!=this.editInfoBefore.uuid?this.dialogPwdEdit=!0:this.$message({showClose:!0,message:"请选择一条数据进行修改",type:"error"})):this.$message({showClose:!0,message:"请选择一条数据进行修改",type:"error"})},editPwdSure:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var s=new URLSearchParams;s.append("USER_CODE",t.editInfo.userCode),s.append("USER_PWD",t.editPwd.passWord),t.openFullScreen(),t.$axios.post(t.editPwdUrl,s).then(function(e){t.loading.close(),0==e.data.code?(t.getData(),t.$message({showClose:!0,message:"修改密码成功",type:"success"})):t.$message({showClose:!0,message:e.data.msg,type:"error"})}),t.dialogPwdEdit=!1})},delUser:function(){var e=this;void 0!=this.selectId.length&&0<this.selectId.length?this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=new URLSearchParams;t.append("userCode",e.selectId),e.openFullScreen(),e.$axios.post(e.delUrl,t).then(function(t){e.loading.close(),0==t.data.code?(Number(e.dataSize)-Number(e.delNum)>Number(Number(e.pageNum)-1)*Number(e.pageSize)&&Number(e.pageNum)>1?e.getData():e.pageNum--,e.editInfo={},e.$message({type:"success",message:"删除成功!"})):e.$message({showClose:!0,message:t.data.msg,type:"error"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})}):this.$message({showClose:!0,message:"请选择一条数据进行删除",type:"error"})},assignRole:function(){var e=this;if(this.editInfoBefore)if(void 0!=this.editInfoBefore.uuid){var t=new URLSearchParams;t.append("userCode",this.editInfoBefore.userCode),this.$axios.post(this.roleFindUrl,t).then(function(t){if(e.roleForm={type:[],resource:""},0==t.data.code){e.roleFormData=t.data.data.all;for(var s=t.data.data.checked,a=0;a<s.length;a++)e.roleForm.type.push(s[a].roleCode),1==s[a].defaultFlag&&(e.roleForm.resource=s[a].roleCode)}else e.$message({showClose:!0,message:t.data.msg,type:"error"});e.dialogRole=!0})}else this.$message({showClose:!0,message:"请选择一条数据进行指派",type:"error"});else this.$message({showClose:!0,message:"请选择一条数据进行指派",type:"error"})},roleSure:function(){for(var e=this,t=[],s=0;s<this.roleForm.type.length;s++)this.roleForm.resource==this.roleForm.type[s]?t.push(this.roleForm.resource):t.push(this.roleForm.type[s]);var a=new URLSearchParams;a.append("userCode",this.editInfoBefore.userCode),a.append("roleCode",t),this.openFullScreen(),this.$axios.post(this.roleSubmintUrl,a).then(function(t){e.loading.close(),0==t.data.code?(e.getData(),e.dialogRole=!1,e.$message({showClose:!0,message:"指派角色成功",type:"success"})):e.$message({showClose:!0,message:t.data.msg,type:"error"})})},chooseRadio:function(){-1==this.roleForm.type.indexOf(this.roleForm.resource)&&""!=this.roleForm.resource&&this.roleForm.type.push(this.roleForm.resource)},chooseCheck:function(){-1==this.roleForm.type.indexOf(this.roleForm.resource)&&(this.roleForm.resource="")},setPost:function(){this.editInfoBefore&&void 0!=this.editInfoBefore.uuid?null!=this.editInfoBefore.deptCode?(this.getPostByDept(),this.titleUserName=this.editInfoBefore.userName,this.dialogPostSet=!0):this.$message({showClose:!0,message:"请先设置部门",type:"error"}):this.$message({showClose:!0,message:"请选择一条数据进行设置岗位",type:"error"})},setPostSure:function(){var e=this,t=new URLSearchParams;t.append("USER_CODE",this.editInfoBefore.userCode),t.append("gws",this.selectPostId),this.openFullScreen(),this.$axios.post(this.zpUserPost,t).then(function(t){e.loading.close(),0==t.data.code?(e.$message({showClose:!0,message:"设置岗位成成功",type:"success"}),e.dialogPostSet=!1,e.getData()):e.$message({showClose:!0,message:t.data.msg,type:"error"})})},getUserHasPost:function(){var e=this,t=new URLSearchParams;t.append("USER_CODE",this.editInfoBefore.userCode),this.$axios.post(this.getHasPost,t).then(function(t){if(0==t.data.code){for(var s=[],a=0;a<t.data.data.length;a++)for(var o=0;o<e.tablePostData.length;o++)t.data.data[a].postCode==e.tablePostData[o].postCode&&(e.$refs.table.toggleRowSelection(e.tablePostData[o],!0),s.push(e.tablePostData[o].postCode));e.selectPostId=s.join(",")}})},getPostByDept:function(){var e=this,t=new URLSearchParams;t.append("deptCode",this.editInfoBefore.deptCode),this.$axios.post(this.getPostByDeptUrl,t).then(function(t){0==t.data.code?(e.tablePostData=t.data.data,e.getUserHasPost()):e.$message({showClose:!0,message:t.data.msg,type:"error"})})},chooseOnePost:function(e){for(var t=[],s=0;s<e.length;s++)t.push(e[s].postCode);this.selectPostId=t.join(",")},chooseAllPost:function(e){for(var t=[],s=0;s<e.length;s++)t.push(e[s].postCode);this.selectPostId=t.join(",")},setDepartment:function(){this.defautChoose=[],this.editInfoBefore&&void 0!=this.editInfoBefore.uuid?(this.getDeptData(),this.titleUserName=this.editInfoBefore.userName,this.defautChoose=[this.editInfoBefore.deptCode],this.chooseDept.id=this.editInfoBefore.deptCode,this.dialogDeptSet=!0):this.$message({showClose:!0,message:"请选择一条数据进行设置部门",type:"error"})},setDeptSure:function(){var e=this;if(0<this.$refs.tree2.getCheckedKeys().length){var t=new URLSearchParams;t.append("USER_CODE",this.editInfoBefore.userCode),t.append("DEPT_CODE",this.chooseDept.id),this.openFullScreen(),this.$axios.post(this.zpUserdept,t).then(function(t){e.loading.close(),0==t.data.code?(e.$message({showClose:!0,message:t.data.msg,type:"success"}),e.getData(),e.dialogDeptSet=!1):e.$message({showClose:!0,message:t.data.msg,type:"error"})})}else this.$message({showClose:!0,message:"请选择一个部门",type:"error"})},handleNodeClick2:function(e){this.$refs.tree2.setCheckedKeys([e.id]),this.chooseDept=e},chooseOneDept:function(e,t){1==t&&(this.$refs.tree2.setCheckedKeys([]),this.handleNodeClick2(e))},handleNodeClick1:function(e){this.$refs.tree1.setCheckedKeys([e.id]),this.chooseDept=e},chooseOneDept1:function(e,t){1==t&&(this.$refs.tree1.setCheckedKeys([]),this.handleNodeClick1(e))},handleSizeChange:function(e){this.pageSize=e,this.getData()},handleCurrentChange:function(e){this.pageNum=e,this.getData()},chooseOne:function(e){for(var t=[],s=0;s<e.length;s++)t.push(e[s].userCode);this.delNum=t.length,this.selectId=t.join(","),1==e.length?this.getUserByUserCode(JSON.parse(o()(e[0])).userCode):(this.editInfo={},this.editInfoBefore={})},chooseAll:function(e){for(var t=[],s=0;s<e.length;s++)t.push(e[s].userCode);this.delNum=t.length,this.selectId=t.join(","),this.editInfo={},this.editInfoBefore={}},getData:function(){var e=this;this.openFullScreen(),this.$axios.post(this.getDataUrl+"?pageSize="+this.pageSize+"&pageNum="+this.pageNum,this.formData).then(function(t){if(e.loading.close(),e.editInfoBefore={},e.selectId={},0==t.data.code){e.tableData=t.data.data.list;for(var s=0;s<e.tableData.length;s++)0==e.tableData[s].sex?e.tableData[s].sex="女":e.tableData[s].sex="男",0==e.tableData[s].adminFlag?e.tableData[s].adminFlag="否":e.tableData[s].adminFlag="是";e.dataSize=t.data.data.totalRecords}else e.$message({showClose:!0,message:t.data.msg,type:"error"})})},getUserByUserCode:function(e){var t=this,s=new URLSearchParams;s.append("userCode",e),this.$axios.post(this.getUserByUserCodeUrl,s).then(function(e){t.editInfoBefore={},0==e.data.code?(t.editInfoBefore=e.data.data,console.log(t.editInfoBefore)):t.$message({showClose:!0,message:e.data.msg,type:"error"})})}}}},588:function(e,t,s){t=e.exports=s(95)(!1),t.push([e.i,".handle-box[data-v-585ac322]{margin-bottom:20px}.inputWidth[data-v-585ac322]{width:200px}.mar_top_12[data-v-585ac322]{margin-top:12px}.roleStyle[data-v-585ac322]{width:250px;height:35px;line-height:35px;float:left;text-align:center;border:1px solid #d1dbe5}.topNoStyle[data-v-585ac322]{border-top:none}.rightNoStyle[data-v-585ac322]{border-right:none}.tdStyle[data-v-585ac322]{width:250px;height:40px;line-height:40px;text-align:center;border:1px solid #d1dbe5;border-top:none}",""])},611:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",[s("el-form",{ref:"formInline",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[s("el-form-item",{attrs:{label:"用户账号",prop:"userAcct"}},[s("el-input",{attrs:{clearable:""},model:{value:e.formInline.userAcct,callback:function(t){e.$set(e.formInline,"userAcct",t)},expression:"formInline.userAcct"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[s("el-input",{attrs:{clearable:""},model:{value:e.formInline.userName,callback:function(t){e.$set(e.formInline,"userName",t)},expression:"formInline.userName"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchForm()}}},[e._v("查询")])],1),e._v(" "),s("el-form-item",[s("el-button",{on:{click:function(t){e.resetForm("formInline")}}},[e._v("重置")])],1)],1)],1),e._v(" "),s("div",{staticClass:"handle-box"},e._l(e.menuButtonList,function(t,a){return s("el-button",{key:a,attrs:{type:"primary",icon:t.buttonStyle},on:{click:function(s){e.chooseClick(t.buttonUrl)}}},[e._v(e._s(t.buttonName))])})),e._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:"",height:"380"},on:{select:e.chooseOne,"select-all":e.chooseAll}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),s("el-table-column",{attrs:{prop:"userAcct",label:"用户账号",fixed:"left",sortable:"",width:"120"}}),e._v(" "),s("el-table-column",{attrs:{prop:"userName",label:"用户名称",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{prop:"sex",label:"性别",width:"80"}}),e._v(" "),s("el-table-column",{attrs:{prop:"phone",label:"手机号码",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{prop:"email",label:"电子邮件"}}),e._v(" "),s("el-table-column",{attrs:{prop:"createdTime",label:"创建时间",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{prop:"updatedTime",label:"修改时间",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{prop:"adminFlag",label:"是否管理员",width:"130"}}),e._v(" "),s("el-table-column",{attrs:{prop:"remark",label:"备注",width:"100"}})],1),e._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[10,20,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.dataSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),s("el-dialog",{attrs:{title:"新增用户",visible:e.dialogAdd,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogAdd=t}}},[s("el-dialog",{attrs:{width:"30%",title:"选择部门",visible:e.innerVisibleAdd,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.innerVisibleAdd=t}}},[s("div",{staticStyle:{"max-height":"300px",overflow:"auto"}},[s("el-tree",{attrs:{data:e.data,props:e.defaultProps,"highlight-current":!0},on:{"node-click":e.handleNodeClick}})],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.cancelTreeDialog()}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addChooseSure(1)}}},[e._v("确 定")])],1)]),e._v(" "),s("el-form",{ref:"addInfo",attrs:{model:e.addInfo,"label-width":"100px",rules:e.rules,inline:!0,"label-position":"right"}},[s("el-form-item",{attrs:{label:"用户账号",prop:"userAcct"}},[s("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.addInfo.userAcct,callback:function(t){e.$set(e.addInfo,"userAcct",t)},expression:"addInfo.userAcct"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[s("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.addInfo.userName,callback:function(t){e.$set(e.addInfo,"userName",t)},expression:"addInfo.userName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"身份证号码",prop:"idCard"}},[s("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.addInfo.idCard,callback:function(t){e.$set(e.addInfo,"idCard",t)},expression:"addInfo.idCard"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[s("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.addInfo.phone,callback:function(t){e.$set(e.addInfo,"phone",t)},expression:"addInfo.phone"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"电子邮箱",prop:"email"}},[s("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.addInfo.email,callback:function(t){e.$set(e.addInfo,"email",t)},expression:"addInfo.email"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"性别",prop:"sex"}},[s("el-select",{staticClass:"inputWidth",model:{value:e.addInfo.sex,callback:function(t){e.$set(e.addInfo,"sex",t)},expression:"addInfo.sex"}},[s("el-option",{staticStyle:{"padding-right":"0px !important"},attrs:{label:"男",value:"1"}}),e._v(" "),s("el-option",{staticStyle:{"padding-right":"0px !important"},attrs:{label:"女",value:"0"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"是否为管理员",prop:"adminFlag"}},[s("el-select",{staticClass:"inputWidth",model:{value:e.addInfo.adminFlag,callback:function(t){e.$set(e.addInfo,"adminFlag",t)},expression:"addInfo.adminFlag"}},[s("el-option",{staticStyle:{"padding-right":"0px !important"},attrs:{label:"是",value:"1"}}),e._v(" "),s("el-option",{staticStyle:{"padding-right":"0px !important"},attrs:{label:"否",value:"0"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"备注",prop:"remark"}},[s("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",clearable:""},model:{value:e.addInfo.remark,callback:function(t){e.$set(e.addInfo,"remark",t)},expression:"addInfo.remark"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.cancelDialog()}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addSure("addInfo")}}},[e._v("确 定")])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"修改用户",visible:e.dialogEdit,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogEdit=t}}},[s("el-dialog",{attrs:{width:"30%",title:"选择部门",visible:e.innerVisibleEdit,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.innerVisibleEdit=t}}},[s("div",{staticStyle:{"max-height":"300px",overflow:"auto"}},[s("el-tree",{ref:"tree1",attrs:{data:e.data,"show-checkbox":"",props:e.defaultProps,"default-expand-all":!0,"expand-on-click-node":!1,"node-key":"id","check-strictly":!0,"default-checked-keys":e.defautChoose},on:{"node-click":e.handleNodeClick1,"check-change":e.chooseOneDept1}})],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.cancelTreeDialog()}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addChooseSure(2)}}},[e._v("确 定")])],1)]),e._v(" "),s("el-form",{ref:"editInfo",attrs:{model:e.editInfo,"label-width":"100px",rules:e.rules,inline:!0,"label-position":"right"}},[s("el-form-item",{attrs:{label:"用户账号",prop:"userAcct"}},[s("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.editInfo.userAcct,callback:function(t){e.$set(e.editInfo,"userAcct",t)},expression:"editInfo.userAcct"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[s("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.editInfo.userName,callback:function(t){e.$set(e.editInfo,"userName",t)},expression:"editInfo.userName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"身份证号码",prop:"idCard"}},[s("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.editInfo.idCard,callback:function(t){e.$set(e.editInfo,"idCard",t)},expression:"editInfo.idCard"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[s("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.editInfo.phone,callback:function(t){e.$set(e.editInfo,"phone",t)},expression:"editInfo.phone"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"电子邮箱",prop:"email"}},[s("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.editInfo.email,callback:function(t){e.$set(e.editInfo,"email",t)},expression:"editInfo.email"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"性别",prop:"sex"}},[s("el-select",{staticClass:"inputWidth",model:{value:e.editInfo.sex,callback:function(t){e.$set(e.editInfo,"sex",t)},expression:"editInfo.sex"}},[s("el-option",{staticStyle:{"padding-right":"0px !important"},attrs:{label:"男",value:"1"}}),e._v(" "),s("el-option",{staticStyle:{"padding-right":"0px !important"},attrs:{label:"女",value:"0"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"是否管理员",prop:"adminFlag"}},[s("el-select",{staticClass:"inputWidth",model:{value:e.editInfo.adminFlag,callback:function(t){e.$set(e.editInfo,"adminFlag",t)},expression:"editInfo.adminFlag"}},[s("el-option",{attrs:{label:"是",value:"1"}}),e._v(" "),s("el-option",{attrs:{label:"否",value:"0"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"备注",prop:"remark"}},[s("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",clearable:""},model:{value:e.editInfo.remark,callback:function(t){e.$set(e.editInfo,"remark",t)},expression:"editInfo.remark"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.cancelDialog()}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.editSure("editInfo")}}},[e._v("确 定")])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"修改密码",visible:e.dialogPwdEdit,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogPwdEdit=t}}},[s("el-form",{ref:"editPwd",attrs:{model:e.editPwd,rules:e.rules2,"label-width":"100px","label-position":"right"}},[s("el-form-item",{attrs:{label:"新密码",prop:"passWord"}},[s("el-input",{staticClass:"inputWidth",attrs:{type:"password",clearable:""},model:{value:e.editPwd.passWord,callback:function(t){e.$set(e.editPwd,"passWord",t)},expression:"editPwd.passWord"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"确认密码",prop:"passWordCheck"}},[s("el-input",{staticClass:"inputWidth",attrs:{type:"password",clearable:""},model:{value:e.editPwd.passWordCheck,callback:function(t){e.$set(e.editPwd,"passWordCheck",t)},expression:"editPwd.passWordCheck"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.cancelDialog()}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.editPwdSure("editPwd")}}},[e._v("确 定")])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"指派角色",visible:e.dialogRole,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogRole=t}}},[s("div",{staticStyle:{height:"35px","padding-left":"60px"}},[s("div",{staticClass:"roleStyle rightNoStyle"},[e._v("指派角色")]),e._v(" "),s("div",{staticClass:"roleStyle"},[e._v("角色名称")])]),e._v(" "),s("div",{staticStyle:{"padding-left":"60px"}},[s("div",{staticStyle:{width:"251px",float:"left"}},[s("el-checkbox-group",{on:{change:function(t){e.chooseCheck()}},model:{value:e.roleForm.type,callback:function(t){e.$set(e.roleForm,"type",t)},expression:"roleForm.type"}},e._l(e.roleFormData,function(e){return s("div",{staticClass:"tdStyle rightNoStyle topNoStyle"},[s("el-checkbox",{attrs:{label:e.roleCode}},[s("span")])],1)}))],1),e._v(" "),s("div",{staticStyle:{width:"251px",float:"left"}},e._l(e.roleFormData,function(t){return s("div",{staticClass:"tdStyle topNoStyle"},[s("span",[e._v(e._s(t.roleName))])])})),e._v(" "),s("div",{staticStyle:{clear:"both"}})]),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.cancelDialog()}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.roleSure()}}},[e._v("确 定")])],1)]),e._v(" "),s("el-dialog",{attrs:{title:"设置部门-"+e.titleUserName,visible:e.dialogDeptSet,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogDeptSet=t}}},[s("div",{staticStyle:{"max-height":"300px",overflow:"auto"}},[s("el-tree",{ref:"tree2",attrs:{data:e.data,"show-checkbox":"",props:e.defaultProps,"default-expand-all":!0,"expand-on-click-node":!1,"node-key":"id","check-strictly":!0,"default-checked-keys":e.defautChoose},on:{"node-click":e.handleNodeClick2,"check-change":e.chooseOneDept}})],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.cancelDialog()}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.setDeptSure()}}},[e._v("确 定")])],1)]),e._v(" "),s("el-dialog",{attrs:{title:"设置岗位-"+e.titleUserName,visible:e.dialogPostSet,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogPostSet=t}}},[s("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.tablePostData,border:"",stripe:"",height:"380"},on:{select:e.chooseOnePost,"select-all":e.chooseAllPost}},[s("el-table-column",{attrs:{type:"selection","reserve-selection":!0,width:"55"}}),e._v(" "),s("el-table-column",{attrs:{prop:"postName",label:"岗位名称",fixed:"left",sortable:""}}),e._v(" "),s("el-table-column",{attrs:{prop:"postNameJ",label:"岗位名称简"}}),e._v(" "),s("el-table-column",{attrs:{prop:"deptName",label:"部门名称"}})],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.cancelDialog()}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.setPostSure()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},629:function(e,t,s){var a=s(588);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s(217)("124f308b",a,!0)}});